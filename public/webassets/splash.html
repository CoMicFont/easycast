<html>
<head>
  <meta charset="utf-8">
  <title>Easycast</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>aside.splash{background:white;color:#222;margin:0;text-align:center;position:fixed;top:0;bottom:0;left:0;right:0;height:100%;display:none}aside.splash>div{display:flex;align-items:center;justify-content:center;height:100%}aside.splash>div>div{padding:5% 5% 20% 5%}aside.splash .lds-ripple{display:inline-block;position:relative;width:80px;height:80px}aside.splash .lds-ripple div{position:absolute;border:4px solid #222;opacity:1;border-radius:50%;animation:lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite}aside.splash .lds-ripple div:nth-child(2){animation-delay:-0.5s}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:0}4.9%{top:36px;left:36px;width:0;height:0;opacity:0}5%{top:36px;left:36px;width:0;height:0;opacity:1}100%{top:0px;left:0px;width:72px;height:72px;opacity:0}}
</style>
  <style>aside.splash { display: block !important; }</style>
</head>
<body>
<aside class="splash">
  <div>
    <div>
      <h1>Easycast</h1>
      <h2>Diffusion multi-écran low-tech et open-source!</h2>
      <p>En recherche du maître de diffusion...</p>
      <div class="lds-ripple"><div></div><div></div></div>
    </div>
  </div>
</aside>

<script>function splashWait(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4==this.readyState&&200==this.status?window.location=t:4==this.readyState&&setTimeout(function(){splashWait(t)},1e3)},console.log("Trying to reach master at "+t),n.open("GET",t,!0),n.send()}function splashConnect(){function t(){window.location=window.location}const n=window.location.search,o=new URLSearchParams(n),e=decodeURIComponent(o.get("target")||"http://easycast/");setTimeout(t,15e3),setTimeout(function(){splashWait(e)},500)}function splashReconnect(){jQuery("aside.splash").show(),splashWait(window.location)}</script>
<script>splashConnect();</script>
</body>
</html>
